<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-maintenance/logging" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.1">
<title data-rh="true">Logging | Fluss</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://alibaba.github.io/fluss-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://alibaba.github.io/fluss-docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://alibaba.github.io/fluss-docs/docs/maintenance/logging/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Logging | Fluss"><meta data-rh="true" name="description" content="All Fluss processes(CoordinatorServer/TabletServer) create a log text file that contains messages for various events happening in that process. These logs provide deep insights into the inner workings of Fluss, and can be used to detect problems (in the form of WARN/ERROR messages) and can help in debugging them."><meta data-rh="true" property="og:description" content="All Fluss processes(CoordinatorServer/TabletServer) create a log text file that contains messages for various events happening in that process. These logs provide deep insights into the inner workings of Fluss, and can be used to detect problems (in the form of WARN/ERROR messages) and can help in debugging them."><link data-rh="true" rel="icon" href="/fluss-docs/img/logo.svg"><link data-rh="true" rel="canonical" href="https://alibaba.github.io/fluss-docs/docs/maintenance/logging/"><link data-rh="true" rel="alternate" href="https://alibaba.github.io/fluss-docs/docs/maintenance/logging/" hreflang="en"><link data-rh="true" rel="alternate" href="https://alibaba.github.io/fluss-docs/docs/maintenance/logging/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://xx-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/fluss-docs/blog/rss.xml" title="Fluss RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/fluss-docs/blog/atom.xml" title="Fluss Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Fluss" href="/fluss-docs/opensearch.xml"><link rel="stylesheet" href="/fluss-docs/assets/css/styles.1072641d.css">
<script src="/fluss-docs/assets/js/runtime~main.83dbccb2.js" defer="defer"></script>
<script src="/fluss-docs/assets/js/main.d4281fe9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fluss-docs/"><b class="navbar__title text--truncate">Fluss</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/fluss-docs/docs/intro/">Docs</a><a class="navbar__item navbar__link" href="/fluss-docs/blog/">Blog</a><a class="navbar__item navbar__link" href="/fluss-docs/community/">Community</a><a class="navbar__item navbar__link" href="/fluss-docs/roadmap/">Roadmap</a><a class="navbar__item navbar__link" href="/fluss-docs/downloads/">Downloads</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/alibaba/fluss" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fluss-docs/docs/intro/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/fluss-docs/docs/quickstart/flink/">Quick Start</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/fluss-docs/docs/concepts/architecture/">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/fluss-docs/docs/install-deploy/overview/">Installation &amp; Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/fluss-docs/docs/table-design/overview/">Table Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/fluss-docs/docs/engine-flink/getting-started/">Engine Flink</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/fluss-docs/docs/streaming-lakehouse/overview/">Streaming Lakehouse</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/fluss-docs/docs/maintenance/configuration/">Maintenance</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluss-docs/docs/maintenance/configuration/">Configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/fluss-docs/docs/maintenance/filesystems/overview/">File Systems</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/fluss-docs/docs/maintenance/tiered-storage/overview/">Tiered Storage</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluss-docs/docs/maintenance/metric-reporters/">Metric Reporters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fluss-docs/docs/maintenance/monitor-metrics/">Monitor Metrics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/fluss-docs/docs/maintenance/logging/">Logging</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/fluss-docs/docs/dev/building/">Development Guide</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/fluss-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Maintenance</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Logging</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Logging</h1></header>
<p>All Fluss processes(CoordinatorServer/TabletServer) create a log text file that contains messages for various events happening in that process. These logs provide deep insights into the inner workings of Fluss, and can be used to detect problems (in the form of WARN/ERROR messages) and can help in debugging them.</p>
<p>The logging in Fluss uses the <a href="http://www.slf4j.org/" target="_blank" rel="noopener noreferrer">SLF4J</a> logging interface. This allows you to use any logging framework that supports SLF4J, without having to modify the Fluss source code.</p>
<p>By default, <a href="https://logging.apache.org/log4j/2.x/index.html" target="_blank" rel="noopener noreferrer">Log4j 2</a> is used as the underlying logging framework.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-log4j-2">Configuring Log4j 2<a href="#configuring-log4j-2" class="hash-link" aria-label="Direct link to Configuring Log4j 2" title="Direct link to Configuring Log4j 2">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="log4j-2-property-files">Log4j 2 property files<a href="#log4j-2-property-files" class="hash-link" aria-label="Direct link to Log4j 2 property files" title="Direct link to Log4j 2 property files">​</a></h3>
<p>The Fluss distribution ships with the following log4j properties files in the conf directory, which are used automatically if Log4j 2 is enabled:</p>
<ul>
<li><code>log4j-console.properties</code>: used for CoordinatorServer/TabletServer if they are run in the foreground (e.g., Kubernetes).</li>
<li><code>log4j.properties</code>: used for CoordinatorServer/TabletServer by default.</li>
</ul>
<p>Log4j periodically scans this file for changes and adjusts the logging behavior if necessary. By default, this check happens every 30 seconds and is controlled by the monitorInterval setting in the Log4j properties files.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="log4j-2-configuration">Log4j 2 configuration<a href="#log4j-2-configuration" class="hash-link" aria-label="Direct link to Log4j 2 configuration" title="Direct link to Log4j 2 configuration">​</a></h3>
<p>The following <a href="/fluss-docs/docs/maintenance/configuration/">logging-related configuration options</a> are available:</p>
<table><thead><tr><th>Configuration</th><th>Description</th><th>Default</th></tr></thead><tbody><tr><td>env.log.dir</td><td>The directory where the Fluss logs are saved. Must be an absolute path.</td><td>log folder under Fluss’s home.</td></tr><tr><td>env.log.level</td><td>Root logger level.</td><td>INFO</td></tr><tr><td>env.log.max</td><td>The maximum number of old log files to keep.</td><td>10</td></tr><tr><td>env.stdout-err.redirect-to-file</td><td>Whether to redirect the ERROR level Fluss logs to another file.</td><td>false</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compatibility-with-log4j-1">Compatibility with Log4j 1<a href="#compatibility-with-log4j-1" class="hash-link" aria-label="Direct link to Compatibility with Log4j 1" title="Direct link to Compatibility with Log4j 1">​</a></h3>
<p>Fluss ships with the <a href="https://logging.apache.org/log4j/log4j-2.2/log4j-1.2-api/index.html" target="_blank" rel="noopener noreferrer">Log4j API bridge</a>, allowing existing applications that work against Log4j1 classes to continue working.</p>
<p>If you have custom Log4j 1 properties files or code that relies on Log4j 1, please check out the official Log4j <a href="https://logging.apache.org/log4j/2.x/manual/compatibility.html" target="_blank" rel="noopener noreferrer">compatibility</a> and <a href="https://logging.apache.org/log4j/2.x/manual/migration.html" target="_blank" rel="noopener noreferrer">migration</a> guides.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-log4j1">Configuring Log4j1<a href="#configuring-log4j1" class="hash-link" aria-label="Direct link to Configuring Log4j1" title="Direct link to Configuring Log4j1">​</a></h2>
<p>To use Fluss with <a href="https://logging.apache.org/log4j/1.2/" target="_blank" rel="noopener noreferrer">Log4j 1</a> you must ensure that:</p>
<ul>
<li><code>org.apache.logging.log4j:log4j-core</code>, <code>org.apache.logging.log4j:log4j-slf4j-impl</code> and <code>org.apache.logging.log4j:log4j-1.2-api</code> are not on the classpath.</li>
<li><code>log4j:log4j</code>, <code>org.slf4j:slf4j-log4j12</code>, <code>org.apache.logging.log4j:log4j-to-slf4j</code> and <code>org.apache.logging.log4j:log4j-api</code> are on the classpath.</li>
</ul>
<p>For Fluss distributions this means you have to</p>
<ul>
<li>remove the <code>log4j-core</code>, <code>log4j-slf4j-impl</code> and <code>log4j-1.2-api</code> jars from the lib directory,</li>
<li>add the <code>log4j</code>, <code>slf4j-log4j12</code> and <code>log4j-to-slf4j</code> jars to the lib directory,</li>
<li>replace all log4j properties files in the conf directory with Log4j1-compliant versions.</li>
</ul>
<p>In the IDE this means you have to replace such dependencies defined in your pom, and possibly add exclusions on dependencies that transitively depend on them.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-logback">Configuring logback<a href="#configuring-logback" class="hash-link" aria-label="Direct link to Configuring logback" title="Direct link to Configuring logback">​</a></h2>
<p>To use Fluss with <a href="https://logback.qos.ch/" target="_blank" rel="noopener noreferrer">logback</a> you must ensure that:</p>
<ul>
<li><code>org.apache.logging.log4j:log4j-slf4j-impl</code> is not on the classpath,</li>
<li><code>ch.qos.logback:logback-core</code> and <code>ch.qos.logback:logback-classic</code> are on the classpath.</li>
</ul>
<p>For Fluss distributions this means you have to</p>
<ul>
<li>remove the <code>log4j-slf4j-impl</code> jar from the lib directory.</li>
<li>add the <code>logback-core</code>, and <code>logback-classic</code> jars to the lib directory.</li>
</ul>
<p>The Fluss distribution ships with the following logback configuration files in the conf directory, which are used automatically if logback is enabled:</p>
<ul>
<li><code>logback-console.xml</code>: used for CoordinatorServer/TabletServer if they are run in the foreground (e.g., Kubernetes).</li>
<li><code>logback.xml</code>: used for CoordinatorServer/TabletServer by default.</li>
</ul>
<p>In the IDE this means you have to replace such dependencies defined in your pom, and possibly add exclusions on dependencies that transitively depend on them.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/fluss-docs/docs/maintenance/monitor-metrics/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Monitor Metrics</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fluss-docs/docs/dev/building/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Building Fluss from Source</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuring-log4j-2" class="table-of-contents__link toc-highlight">Configuring Log4j 2</a><ul><li><a href="#log4j-2-property-files" class="table-of-contents__link toc-highlight">Log4j 2 property files</a></li><li><a href="#log4j-2-configuration" class="table-of-contents__link toc-highlight">Log4j 2 configuration</a></li><li><a href="#compatibility-with-log4j-1" class="table-of-contents__link toc-highlight">Compatibility with Log4j 1</a></li></ul></li><li><a href="#configuring-log4j1" class="table-of-contents__link toc-highlight">Configuring Log4j1</a></li><li><a href="#configuring-logback" class="table-of-contents__link toc-highlight">Configuring logback</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Alibaba, Inc.
      Apache®, Apache Flink®, Flink®, Apache Kafka®, Kafka®, Spark® and associated open source project names and logos are trademarks of the Apache Software Foundation.</div></div></div></footer></div>
</body>
</html>